<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.12.0" xml:lang="en-US">
  <compounddef id="transmission_8cc" kind="file" language="C++">
    <compoundname>transmission.cc</compoundname>
    <includes local="no">iostream</includes>
    <includes local="no">set</includes>
    <includes local="no">list</includes>
    <includes local="no">vector</includes>
    <includes local="no">algorithm</includes>
    <includes local="no">random</includes>
    <includes local="no">spdlog/spdlog.h</includes>
    <includes refid="transmission_8h" local="yes">transmission.h</includes>
    <incdepgraph>
      <node id="11">
        <label>destination.h</label>
        <link refid="destination_8h"/>
      </node>
      <node id="10">
        <label>packet.h</label>
        <link refid="packet_8h"/>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>transmission.cc</label>
        <link refid="transmission_8cc"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>transmission.h</label>
        <link refid="transmission_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
      </node>
      <node id="6">
        <label>algorithm</label>
      </node>
      <node id="2">
        <label>iostream</label>
      </node>
      <node id="4">
        <label>list</label>
      </node>
      <node id="7">
        <label>random</label>
      </node>
      <node id="3">
        <label>set</label>
      </node>
      <node id="8">
        <label>spdlog/spdlog.h</label>
      </node>
      <node id="5">
        <label>vector</label>
      </node>
    </incdepgraph>
    <sectiondef kind="var">
      <memberdef kind="variable" id="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" prot="public" static="no" mutable="no">
        <type>double</type>
        <definition>double phyRate[12][7]</definition>
        <argsstring>[12][7]</argsstring>
        <name>phyRate</name>
        <initializer>= {
			{0.9,	1.8,	3.8,	8.6,	17.2,	36.0,	72.1},
			{1.8,	3.5,	7.5,	17.2,	34.4,	72.1,	144.1},
			{2.6,	5.3,	11.3,	25.8,	51.6,	108.1,	216.2},
			{3.5,	7.1,	15.0,	34.4,	68.8,	144.1,	288.2},
			{5.3,	10.6,	22.5,	51.6,	103.2,	216.2,	432.4},
			{7.1,	14.1,	30.0,	68.8,	137.6,	288.2,	576.5},
			{7.9,	15.9,	33.8,	77.4,	154.9,	324.3,	648.5},
			{8.8,	17.6,	37.5,	86.0,	172.1,	360.3,	720.6},
			{10.6,	21.2,	45.0,	103.2,	206.5,	432.4,	864.7},
			{11.8,	23.5,	50.0,	114.7, 	229.4, 	480.4, 	960.7},
			{-1.0,	-1.0,	-1.0,	129.0,	258.1, 	540.4,	1080.9},
			{-1.0,	-1.0,	-1.0,	143.4,	286.8,	600.4,	1201.0}
			}</initializer>
        <briefdescription>
<para>List of physical rate with special Resource Units. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="30" column="8" bodyfile="transmission.cc" bodystart="30" bodyend="43"/>
        <referencedby refid="classdestination_1af5aa20147c29328b11d37520449543a9" compoundref="destination_8cc" startline="77" endline="84">destination::destination</referencedby>
        <referencedby refid="transmission_8cc_1ab7342ed5f6ffba181326149f8dd8bcfa" compoundref="transmission_8cc" startline="66" endline="81">getMacTransmissionTime</referencedby>
        <referencedby refid="transmission_8cc_1ac15752338ea1254dff25c7cb14140a08" compoundref="transmission_8cc" startline="315" endline="330">getTransmissionTimePayload</referencedby>
      </memberdef>
      <memberdef kind="variable" id="transmission_8cc_1a8c6223c9cd7962eca294b550f36f159e" prot="public" static="no" mutable="no">
        <type>double</type>
        <definition>double accessTimeAndAck</definition>
        <argsstring></argsstring>
        <name>accessTimeAndAck</name>
        <initializer>=132.0</initializer>
        <briefdescription>
<para>Only 20Hz, maximum tones of resource unit = 242, max number of clients = 9 4 resource unit avaiable: 26, 52, 106, 242. </para>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="51" column="8" bodyfile="transmission.cc" bodystart="51" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="transmission_8cc_1a71b420b9a271ff67fe17d3f93d6a81b1" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int bandwidth</definition>
        <argsstring></argsstring>
        <name>bandwidth</name>
        <initializer>= 20</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="52" column="5" bodyfile="transmission.cc" bodystart="52" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="transmission_8cc_1a61b1269a1e66e3f41842d7fe975127e3" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int maxTones</definition>
        <argsstring></argsstring>
        <name>maxTones</name>
        <initializer>= 242</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="52" column="16" bodyfile="transmission.cc" bodystart="52" bodyend="-1"/>
        <referencedby refid="transmission_8cc_1aaa49bc1ad53343dcbe56639d207e83a6" compoundref="transmission_8cc" startline="149" endline="212">ruAllocation</referencedby>
        <referencedby refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" compoundref="transmission_8cc" startline="243" endline="283">ruAllocationOptimal</referencedby>
      </memberdef>
      <memberdef kind="variable" id="transmission_8cc_1a400de5a490a25cff56ef1bae861f2ea1" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int maxClient</definition>
        <argsstring></argsstring>
        <name>maxClient</name>
        <initializer>= 9</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="52" column="26" bodyfile="transmission.cc" bodystart="52" bodyend="-1"/>
        <referencedby refid="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" compoundref="transmission_8cc" startline="502" endline="619">fifoOFDMAOptimal</referencedby>
      </memberdef>
      <memberdef kind="variable" id="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int RuType[4]</definition>
        <argsstring>[4]</argsstring>
        <name>RuType</name>
        <initializer>= {26, 52, 106, 242}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="52" column="37" bodyfile="transmission.cc" bodystart="52" bodyend="52"/>
        <referencedby refid="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" compoundref="transmission_8cc" startline="502" endline="619">fifoOFDMAOptimal</referencedby>
        <referencedby refid="transmission_8cc_1ac6d611f7de49524c593519d0425c5a09" compoundref="transmission_8cc" startline="119" endline="146">getTransmissionTimeOfdmaFrame</referencedby>
        <referencedby refid="transmission_8cc_1aaa49bc1ad53343dcbe56639d207e83a6" compoundref="transmission_8cc" startline="149" endline="212">ruAllocation</referencedby>
        <referencedby refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" compoundref="transmission_8cc" startline="243" endline="283">ruAllocationOptimal</referencedby>
        <referencedby refid="transmission_8cc_1ac2e8aca1d9459efd72866fb4009aeaf6" compoundref="transmission_8cc" startline="220" endline="234">ruBruteForce</referencedby>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="transmission_8cc_1ab7342ed5f6ffba181326149f8dd8bcfa" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>double getMacTransmissionTime</definition>
        <argsstring>(packet aPacket, int nbOfBytesMac, int ru)</argsstring>
        <name>getMacTransmissionTime</name>
        <param>
          <type><ref refid="classpacket" kindref="compound">packet</ref></type>
          <declname>aPacket</declname>
        </param>
        <param>
          <type>int</type>
          <declname>nbOfBytesMac</declname>
        </param>
        <param>
          <type>int</type>
          <declname>ru</declname>
        </param>
        <briefdescription>
<para>Get the Mac Transmission Time of a packet (Layer 2: Data link layer) </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>aPacket</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>nbOfBytesMac</parametername>
</parameternamelist>
<parameterdescription>
<para><linebreak/>
 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ru</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>double </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="66" column="8" bodyfile="transmission.cc" bodystart="66" bodyend="81"/>
        <references refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" compoundref="packet_8h" startline="28">packet::m_destination</references>
        <references refid="classdestination_1a4548881e744673365ee3d134ef54ec87" compoundref="destination_8h" startline="32">destination::m_mcs</references>
        <references refid="classpacket_1aabf7e3d557441592087d82f797b6e809" compoundref="packet_8h" startline="26">packet::m_size</references>
        <references refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" compoundref="transmission_8cc" startline="30" endline="43">phyRate</references>
        <referencedby refid="transmission_8cc_1ac6d611f7de49524c593519d0425c5a09" compoundref="transmission_8cc" startline="119" endline="146">getTransmissionTimeOfdmaFrame</referencedby>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1a54eb34961baa3decb1e480234eee0a45" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int newDest</definition>
        <argsstring>(destination aDest, std::list&lt; destination &gt; destList)</argsstring>
        <name>newDest</name>
        <param>
          <type><ref refid="classdestination" kindref="compound">destination</ref></type>
          <declname>aDest</declname>
        </param>
        <param>
          <type>std::list&lt; <ref refid="classdestination" kindref="compound">destination</ref> &gt;</type>
          <declname>destList</declname>
        </param>
        <briefdescription>
<para>Checking if it is a new destination founded or not. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>aDest</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>destList</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int (its index if old dest, -1 if new dest) </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="89" column="5" bodyfile="transmission.cc" bodystart="89" bodyend="99"/>
        <references refid="classdestination_1a423b9008ebc7659776c323fd4c8250cc" compoundref="destination_8h" startline="31">destination::m_no</references>
        <referencedby refid="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" compoundref="transmission_8cc" startline="502" endline="619">fifoOFDMAOptimal</referencedby>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1acac6dc1d91e8b14df7007ddb4e25c58d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>double alpha_i</definition>
        <argsstring>(packet pkt)</argsstring>
        <name>alpha_i</name>
        <param>
          <type><ref refid="classpacket" kindref="compound">packet</ref></type>
          <declname>pkt</declname>
        </param>
        <briefdescription>
<para>Time for transmit a packet. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>pkt</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>double </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="107" column="8" bodyfile="transmission.cc" bodystart="107" bodyend="110"/>
        <references refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" compoundref="packet_8h" startline="28">packet::m_destination</references>
        <references refid="classdestination_1aa6b9d16cc17841618bdb99e056da91f7" compoundref="destination_8h" startline="33">destination::m_phyRate</references>
        <references refid="classpacket_1aabf7e3d557441592087d82f797b6e809" compoundref="packet_8h" startline="26">packet::m_size</references>
        <referencedby refid="transmission_8cc_1aaa49bc1ad53343dcbe56639d207e83a6" compoundref="transmission_8cc" startline="149" endline="212">ruAllocation</referencedby>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1ac6d611f7de49524c593519d0425c5a09" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>double getTransmissionTimeOfdmaFrame</definition>
        <argsstring>(std::list&lt; packet &gt; packetsList, std::vector&lt; int &gt; ruList)</argsstring>
        <name>getTransmissionTimeOfdmaFrame</name>
        <param>
          <type>std::list&lt; <ref refid="classpacket" kindref="compound">packet</ref> &gt;</type>
          <declname>packetsList</declname>
        </param>
        <param>
          <type>std::vector&lt; int &gt;</type>
          <declname>ruList</declname>
        </param>
        <briefdescription>
<para>Get the Transmission Time Ofdma Frame object. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>packetsList</parametername>
</parameternamelist>
<parameterdescription>
<para>List of packets </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ruList</parametername>
</parameternamelist>
<parameterdescription>
<para>List of Resource Unit that correspond to each packet </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>&lt;double&gt; Return the max transmition time packet&apos;s (cause all packet paralel) </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="119" column="8" bodyfile="transmission.cc" bodystart="119" bodyend="146"/>
        <references refid="transmission_8cc_1ab7342ed5f6ffba181326149f8dd8bcfa" compoundref="transmission_8cc" startline="66" endline="81">getMacTransmissionTime</references>
        <references refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" compoundref="transmission_8cc" startline="52" endline="52">RuType</references>
        <referencedby refid="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" compoundref="transmission_8cc" startline="502" endline="619">fifoOFDMAOptimal</referencedby>
        <referencedby refid="transmission_8cc_1a147da8463af38f23f7cc084be4920c1e" compoundref="transmission_8cc" startline="293" endline="305">objectiveFunction</referencedby>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1aaa49bc1ad53343dcbe56639d207e83a6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int *</type>
        <definition>int * ruAllocation</definition>
        <argsstring>(std::list&lt; packet &gt; pkt_set)</argsstring>
        <name>ruAllocation</name>
        <param>
          <type>std::list&lt; <ref refid="classpacket" kindref="compound">packet</ref> &gt;</type>
          <declname>pkt_set</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="149" column="6" bodyfile="transmission.cc" bodystart="149" bodyend="212"/>
        <references refid="transmission_8cc_1acac6dc1d91e8b14df7007ddb4e25c58d" compoundref="transmission_8cc" startline="107" endline="110">alpha_i</references>
        <references refid="transmission_8cc_1a61b1269a1e66e3f41842d7fe975127e3" compoundref="transmission_8cc" startline="52">maxTones</references>
        <references refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" compoundref="transmission_8cc" startline="52" endline="52">RuType</references>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1ac2e8aca1d9459efd72866fb4009aeaf6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void ruBruteForce</definition>
        <argsstring>(std::vector&lt; int &gt; ru, int noSta, std::list&lt; std::vector&lt; int &gt; &gt; &amp;ruList)</argsstring>
        <name>ruBruteForce</name>
        <param>
          <type>std::vector&lt; int &gt;</type>
          <declname>ru</declname>
        </param>
        <param>
          <type>int</type>
          <declname>noSta</declname>
        </param>
        <param>
          <type>std::list&lt; std::vector&lt; int &gt; &gt; &amp;</type>
          <declname>ruList</declname>
        </param>
        <briefdescription>
<para>Algorithm for generate all possile combination RU list for packet list. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>ru</parametername>
</parameternamelist>
<parameterdescription>
<para>blank vector at beginning </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>noSta</parametername>
</parameternamelist>
<parameterdescription>
<para>number of packet - 1 </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ruList</parametername>
</parameternamelist>
<parameterdescription>
<para>list of vector of value of Ru index (A reference to a list where all possible combinations of RU allocations will be stored.) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="220" column="6" bodyfile="transmission.cc" bodystart="220" bodyend="234"/>
        <references refid="transmission_8cc_1ac2e8aca1d9459efd72866fb4009aeaf6" compoundref="transmission_8cc" startline="220" endline="234">ruBruteForce</references>
        <references refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" compoundref="transmission_8cc" startline="52" endline="52">RuType</references>
        <referencedby refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" compoundref="transmission_8cc" startline="243" endline="283">ruAllocationOptimal</referencedby>
        <referencedby refid="transmission_8cc_1ac2e8aca1d9459efd72866fb4009aeaf6" compoundref="transmission_8cc" startline="220" endline="234">ruBruteForce</referencedby>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>std::vector&lt; int &gt;</type>
        <definition>std::vector&lt; int &gt; ruAllocationOptimal</definition>
        <argsstring>(std::list&lt; packet &gt; packetsList)</argsstring>
        <name>ruAllocationOptimal</name>
        <param>
          <type>std::list&lt; <ref refid="classpacket" kindref="compound">packet</ref> &gt;</type>
          <declname>packetsList</declname>
        </param>
        <briefdescription>
<para>Return a vector combines of RuTypes that optimal for packetList. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>packetsList</parametername>
</parameternamelist>
<parameterdescription>
<para>given list of packets </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>std::vector&lt;int&gt; </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="243" column="13" bodyfile="transmission.cc" bodystart="243" bodyend="283"/>
        <references refid="transmission_8cc_1a61b1269a1e66e3f41842d7fe975127e3" compoundref="transmission_8cc" startline="52">maxTones</references>
        <references refid="transmission_8cc_1a147da8463af38f23f7cc084be4920c1e" compoundref="transmission_8cc" startline="293" endline="305">objectiveFunction</references>
        <references refid="transmission_8cc_1ac2e8aca1d9459efd72866fb4009aeaf6" compoundref="transmission_8cc" startline="220" endline="234">ruBruteForce</references>
        <references refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" compoundref="transmission_8cc" startline="52" endline="52">RuType</references>
        <referencedby refid="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" compoundref="transmission_8cc" startline="502" endline="619">fifoOFDMAOptimal</referencedby>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1a147da8463af38f23f7cc084be4920c1e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>double objectiveFunction</definition>
        <argsstring>(std::list&lt; packet &gt; packetsList, std::vector&lt; int &gt; ruList)</argsstring>
        <name>objectiveFunction</name>
        <param>
          <type>std::list&lt; <ref refid="classpacket" kindref="compound">packet</ref> &gt;</type>
          <declname>packetsList</declname>
        </param>
        <param>
          <type>std::vector&lt; int &gt;</type>
          <declname>ruList</declname>
        </param>
        <briefdescription>
<para>Calculate objective Function for given packet List and corresponding tones. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>packetsList</parametername>
</parameternamelist>
<parameterdescription>
<para>List of packets </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ruList</parametername>
</parameternamelist>
<parameterdescription>
<para>List of Resource Unit correspond to packet list </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>&lt;double&gt; Return the Objective Physical Rate for a packet list </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="293" column="8" bodyfile="transmission.cc" bodystart="293" bodyend="305"/>
        <references refid="transmission_8cc_1ac6d611f7de49524c593519d0425c5a09" compoundref="transmission_8cc" startline="119" endline="146">getTransmissionTimeOfdmaFrame</references>
        <referencedby refid="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" compoundref="transmission_8cc" startline="502" endline="619">fifoOFDMAOptimal</referencedby>
        <referencedby refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" compoundref="transmission_8cc" startline="243" endline="283">ruAllocationOptimal</referencedby>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1ac15752338ea1254dff25c7cb14140a08" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>double getTransmissionTimePayload</definition>
        <argsstring>(packet aPacket, int ru)</argsstring>
        <name>getTransmissionTimePayload</name>
        <param>
          <type><ref refid="classpacket" kindref="compound">packet</ref></type>
          <declname>aPacket</declname>
        </param>
        <param>
          <type>int</type>
          <declname>ru</declname>
        </param>
        <briefdescription>
<para>Get the Transmission Time Payload without byteMac (another layer) for a packet. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>aPacket</parametername>
</parameternamelist>
<parameterdescription>
<para>given packet </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ru</parametername>
</parameternamelist>
<parameterdescription>
<para>resource unit </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>&lt;double&gt; </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="315" column="8" bodyfile="transmission.cc" bodystart="315" bodyend="330"/>
        <references refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" compoundref="packet_8h" startline="28">packet::m_destination</references>
        <references refid="classdestination_1a4548881e744673365ee3d134ef54ec87" compoundref="destination_8h" startline="32">destination::m_mcs</references>
        <references refid="classpacket_1aabf7e3d557441592087d82f797b6e809" compoundref="packet_8h" startline="26">packet::m_size</references>
        <references refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" compoundref="transmission_8cc" startline="30" endline="43">phyRate</references>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1ab2338ac05d15d17fdcd3b6401a6e4508" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>double fifo</definition>
        <argsstring>(list&lt; packet &gt; &amp;buffer, double currentTime)</argsstring>
        <name>fifo</name>
        <param>
          <type>list&lt; <ref refid="classpacket" kindref="compound">packet</ref> &gt; &amp;</type>
          <declname>buffer</declname>
        </param>
        <param>
          <type>double</type>
          <declname>currentTime</declname>
        </param>
        <briefdescription>
<para>Calculate transmission time for FIFO. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>buffer</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>currentTime</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>double </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="339" column="8" bodyfile="transmission.cc" bodystart="339" bodyend="362"/>
        <references refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" compoundref="main_8cc" startline="24">buffer</references>
        <references refid="main_8cc_1a272038ad264893a568c808f13d818b17" compoundref="main_8cc" startline="19">currentTime</references>
        <references refid="classpacket_1a28d79baa3b5bfb62fe40c5ac1c0af1f6" compoundref="packet_8h" startline="27">packet::m_arrival</references>
        <references refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" compoundref="packet_8h" startline="28">packet::m_destination</references>
        <references refid="classdestination_1a423b9008ebc7659776c323fd4c8250cc" compoundref="destination_8h" startline="31">destination::m_no</references>
        <references refid="classdestination_1aa6b9d16cc17841618bdb99e056da91f7" compoundref="destination_8h" startline="33">destination::m_phyRate</references>
        <references refid="classpacket_1aabf7e3d557441592087d82f797b6e809" compoundref="packet_8h" startline="26">packet::m_size</references>
        <referencedby refid="transmission_8cc_1a95d672e86c3804fea8754cdb7377e49e" compoundref="transmission_8cc" startline="622" endline="635">transmitNextPackets</referencedby>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1a22f983f29243c20d665bf025aada871e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>double fifoAggregation</definition>
        <argsstring>(std::list&lt; packet &gt; &amp;buffer, double currentTime)</argsstring>
        <name>fifoAggregation</name>
        <param>
          <type>std::list&lt; <ref refid="classpacket" kindref="compound">packet</ref> &gt; &amp;</type>
          <declname>buffer</declname>
        </param>
        <param>
          <type>double</type>
          <declname>currentTime</declname>
        </param>
        <briefdescription>
<para>Calculate transmission time for FIFO Aggregation, FIFO represents the process that you take the first packet in the packet list, check if any packets that have the same destination with the selected packet, aggregate all of thems into a frame called &quot;Jumbo frame&quot;, then sending this jumbo to the corresponding destination, simultaneously erase the packet in the initial buffer. Do this till the buffer empty and calculate the total time for transmit them. CAREFUL: if aggregation happens then no need to increase iterator since after erase() the iterator automatically point to the next item. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>buffer</parametername>
</parameternamelist>
<parameterdescription>
<para>List of packets </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>currentTime</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>txOP</parametername>
</parameternamelist>
<parameterdescription>
<para>Transmission Opportunity: Max time for a transmission occurs </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>aggregation_frame_size</parametername>
</parameternamelist>
<parameterdescription>
<para>Default max size for an aggregated frame </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>frame_header_size</parametername>
</parameternamelist>
<parameterdescription>
<para>Size of aggregated frame header </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>no_aggregated_pkt</parametername>
</parameternamelist>
<parameterdescription>
<para>Counter for aggregated packet </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>aggregation</parametername>
</parameternamelist>
<parameterdescription>
<para>Flag represents aggregation (yes or no) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>&lt;double&gt; Transmission time </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="379" column="8" bodyfile="transmission.cc" bodystart="379" bodyend="487"/>
        <references refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" compoundref="main_8cc" startline="24">buffer</references>
        <references refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" compoundref="packet_8h" startline="28">packet::m_destination</references>
        <references refid="classdestination_1a423b9008ebc7659776c323fd4c8250cc" compoundref="destination_8h" startline="31">destination::m_no</references>
        <references refid="classdestination_1aa6b9d16cc17841618bdb99e056da91f7" compoundref="destination_8h" startline="33">destination::m_phyRate</references>
        <references refid="classpacket_1aabf7e3d557441592087d82f797b6e809" compoundref="packet_8h" startline="26">packet::m_size</references>
        <referencedby refid="transmission_8cc_1a95d672e86c3804fea8754cdb7377e49e" compoundref="transmission_8cc" startline="622" endline="635">transmitNextPackets</referencedby>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>double fifoOFDMAOptimal</definition>
        <argsstring>(std::list&lt; packet &gt; &amp;buffer, double currentTime)</argsstring>
        <name>fifoOFDMAOptimal</name>
        <param>
          <type>std::list&lt; <ref refid="classpacket" kindref="compound">packet</ref> &gt; &amp;</type>
          <declname>buffer</declname>
        </param>
        <param>
          <type>double</type>
          <declname>currentTime</declname>
        </param>
        <briefdescription>
<para>Calculate transmission time for FIFO OFDMA Optimal, which sends all packet has different destination in the buffer (cause the paralel, so can not send 2 or more packets to the same destination in the same time) . The combination of sent packet is depend on the Objective Function value of every combination packet in the buffer. FIFO here is the prior process taking the first packet1: Example: [[packet 1], [packet1, packet2], [packet1, packet2, packet3], ...] (each of this packet has different destination) =&gt; The packets combination will be bruteforce with each combination of Resource Unit to find the Optimal Resource Unit combination correspond to packet combination. Do the same sequence with every combination =&gt; Result the most optimal packet combination (biggest Objective Function). Then calculate time for transfer this combination and delete it from initial buffer. </para>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>buffer</parametername>
</parameternamelist>
<parameterdescription>
<para>Current list of packet queueing </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>currentTime</parametername>
</parameternamelist>
<parameterdescription>
<para></para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>destList</parametername>
</parameternamelist>
<parameterdescription>
<para>Store the destination of &quot;new destination&quot; packet </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>tmpList</parametername>
</parameternamelist>
<parameterdescription>
<para>Temporary list for storing &quot;new destination&quot; packet object </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>newDestList</parametername>
</parameternamelist>
<parameterdescription>
<para>List of List of packets: [[packet 1], [packet1, packet2], [packet1, packet2, packet3], ...] </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>&lt;double&gt; Transmission time <linebreak/>
 </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="502" column="8" bodyfile="transmission.cc" bodystart="502" bodyend="619"/>
        <references refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" compoundref="main_8cc" startline="24">buffer</references>
        <references refid="main_8cc_1a272038ad264893a568c808f13d818b17" compoundref="main_8cc" startline="19">currentTime</references>
        <references refid="transmission_8cc_1ac6d611f7de49524c593519d0425c5a09" compoundref="transmission_8cc" startline="119" endline="146">getTransmissionTimeOfdmaFrame</references>
        <references refid="transmission_8cc_1a400de5a490a25cff56ef1bae861f2ea1" compoundref="transmission_8cc" startline="52">maxClient</references>
        <references refid="transmission_8cc_1a54eb34961baa3decb1e480234eee0a45" compoundref="transmission_8cc" startline="89" endline="99">newDest</references>
        <references refid="transmission_8cc_1a147da8463af38f23f7cc084be4920c1e" compoundref="transmission_8cc" startline="293" endline="305">objectiveFunction</references>
        <references refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" compoundref="transmission_8cc" startline="243" endline="283">ruAllocationOptimal</references>
        <references refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" compoundref="transmission_8cc" startline="52" endline="52">RuType</references>
        <referencedby refid="transmission_8cc_1a95d672e86c3804fea8754cdb7377e49e" compoundref="transmission_8cc" startline="622" endline="635">transmitNextPackets</referencedby>
      </memberdef>
      <memberdef kind="function" id="transmission_8cc_1a95d672e86c3804fea8754cdb7377e49e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>double</type>
        <definition>double transmitNextPackets</definition>
        <argsstring>(int discipline, list&lt; packet &gt; &amp;buffer, double currentTime)</argsstring>
        <name>transmitNextPackets</name>
        <param>
          <type>int</type>
          <declname>discipline</declname>
        </param>
        <param>
          <type>list&lt; <ref refid="classpacket" kindref="compound">packet</ref> &gt; &amp;</type>
          <declname>buffer</declname>
        </param>
        <param>
          <type>double</type>
          <declname>currentTime</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="transmission.cc" line="622" column="8" bodyfile="transmission.cc" bodystart="622" bodyend="635"/>
        <references refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" compoundref="main_8cc" startline="24">buffer</references>
        <references refid="main_8cc_1a272038ad264893a568c808f13d818b17" compoundref="main_8cc" startline="19">currentTime</references>
        <references refid="transmission_8cc_1ab2338ac05d15d17fdcd3b6401a6e4508" compoundref="transmission_8cc" startline="339" endline="362">fifo</references>
        <references refid="transmission_8cc_1a22f983f29243c20d665bf025aada871e" compoundref="transmission_8cc" startline="379" endline="487">fifoAggregation</references>
        <references refid="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" compoundref="transmission_8cc" startline="502" endline="619">fifoOFDMAOptimal</references>
        <referencedby refid="main_8cc_1a396a5d03eec031763770fd71ac337dc1" compoundref="main_8cc" startline="165" endline="272">simulateQueue</referencedby>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&lt;iostream&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;set&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;list&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;vector&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;algorithm&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;random&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;spdlog/spdlog.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="transmission_8h" kindref="compound">transmission.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">using<sp/>namespace<sp/></highlight><highlight class="normal">std;</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//IMPORTANT:<sp/>All<sp/>the<sp/>times<sp/>in<sp/>this<sp/>file<sp/>are<sp/>given<sp/>in<sp/>micro<sp/>seconds<sp/>(mu<sp/>seconds)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Discipline</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*<sp/>0:<sp/>FIFO<sp/></highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*<sp/>1:<sp/>FIFO<sp/>with<sp/>aggregation</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/>2:<sp/>FIFO<sp/>with<sp/>OFDMA</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/>3:<sp/>FIFO<sp/>with<sp/>hybrid<sp/>aggregation<sp/>and<sp/>OFDMA</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="comment">//1<sp/>spatial<sp/>stream<sp/>and<sp/>GI=800microsec</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="comment">//Line:<sp/>MCS<sp/>(from<sp/>0<sp/>to<sp/>11)<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="comment">//7<sp/>Column:<sp/>RU-26<sp/>RU-52<sp/>RU-106<sp/>RU-242(20MHz)<sp/>RU-484<sp/>(40MHz)<sp/>RU-996<sp/>(80MHz)<sp/>RU-2x996<sp/>(160MHz)</highlight></codeline>
<codeline lineno="30" refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" refkind="member"><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[12][7]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{0.9,<sp/><sp/><sp/>1.8,<sp/><sp/><sp/><sp/>3.8,<sp/><sp/><sp/><sp/>8.6,<sp/><sp/><sp/><sp/>17.2,<sp/><sp/><sp/>36.0,<sp/><sp/><sp/>72.1},</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{1.8,<sp/><sp/><sp/>3.5,<sp/><sp/><sp/><sp/>7.5,<sp/><sp/><sp/><sp/>17.2,<sp/><sp/><sp/>34.4,<sp/><sp/><sp/>72.1,<sp/><sp/><sp/>144.1},</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{2.6,<sp/><sp/><sp/>5.3,<sp/><sp/><sp/><sp/>11.3,<sp/><sp/><sp/>25.8,<sp/><sp/><sp/>51.6,<sp/><sp/><sp/>108.1,<sp/><sp/>216.2},</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{3.5,<sp/><sp/><sp/>7.1,<sp/><sp/><sp/><sp/>15.0,<sp/><sp/><sp/>34.4,<sp/><sp/><sp/>68.8,<sp/><sp/><sp/>144.1,<sp/><sp/>288.2},</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{5.3,<sp/><sp/><sp/>10.6,<sp/><sp/><sp/>22.5,<sp/><sp/><sp/>51.6,<sp/><sp/><sp/>103.2,<sp/><sp/>216.2,<sp/><sp/>432.4},</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{7.1,<sp/><sp/><sp/>14.1,<sp/><sp/><sp/>30.0,<sp/><sp/><sp/>68.8,<sp/><sp/><sp/>137.6,<sp/><sp/>288.2,<sp/><sp/>576.5},</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{7.9,<sp/><sp/><sp/>15.9,<sp/><sp/><sp/>33.8,<sp/><sp/><sp/>77.4,<sp/><sp/><sp/>154.9,<sp/><sp/>324.3,<sp/><sp/>648.5},</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{8.8,<sp/><sp/><sp/>17.6,<sp/><sp/><sp/>37.5,<sp/><sp/><sp/>86.0,<sp/><sp/><sp/>172.1,<sp/><sp/>360.3,<sp/><sp/>720.6},</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{10.6,<sp/><sp/>21.2,<sp/><sp/><sp/>45.0,<sp/><sp/><sp/>103.2,<sp/><sp/>206.5,<sp/><sp/>432.4,<sp/><sp/>864.7},</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{11.8,<sp/><sp/>23.5,<sp/><sp/><sp/>50.0,<sp/><sp/><sp/>114.7,<sp/><sp/>229.4,<sp/><sp/>480.4,<sp/><sp/>960.7},</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{-1.0,<sp/><sp/>-1.0,<sp/><sp/><sp/>-1.0,<sp/><sp/><sp/>129.0,<sp/><sp/>258.1,<sp/><sp/>540.4,<sp/><sp/>1080.9},</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{-1.0,<sp/><sp/>-1.0,<sp/><sp/><sp/>-1.0,<sp/><sp/><sp/>143.4,<sp/><sp/>286.8,<sp/><sp/>600.4,<sp/><sp/>1201.0}</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>Global<sp/>variables<sp/>*/</highlight></codeline>
<codeline lineno="51" refid="transmission_8cc_1a8c6223c9cd7962eca294b550f36f159e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1a8c6223c9cd7962eca294b550f36f159e" kindref="member">accessTimeAndAck</ref>=132.0;<sp/></highlight><highlight class="comment">//Time<sp/>are<sp/>given<sp/>in<sp/>the<sp/>google<sp/>sheets<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52" refid="transmission_8cc_1a71b420b9a271ff67fe17d3f93d6a81b1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1a71b420b9a271ff67fe17d3f93d6a81b1" kindref="member">bandwidth</ref><sp/>=<sp/>20,<sp/><ref refid="transmission_8cc_1a61b1269a1e66e3f41842d7fe975127e3" kindref="member">maxTones</ref><sp/>=<sp/>242,<sp/><ref refid="transmission_8cc_1a400de5a490a25cff56ef1bae861f2ea1" kindref="member">maxClient</ref><sp/>=<sp/>9,<sp/><ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>[4]<sp/>=<sp/>{26,<sp/>52,<sp/>106,<sp/>242};<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Ru<sp/>is<sp/>resources<sp/>unit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight><highlight class="comment">//int<sp/>bandwidth<sp/>=<sp/>40,<sp/>maxTones<sp/>=<sp/>484,<sp/>maxClient<sp/>=<sp/>18,<sp/>maxRuType<sp/>=<sp/>5;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="comment">//int<sp/>bandwidth<sp/>=<sp/>80,<sp/>maxTones<sp/>=<sp/>996,<sp/>maxClient<sp/>=<sp/>37,<sp/>maxRuType<sp/>=<sp/>6;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight><highlight class="comment">//int<sp/>bandwidth<sp/>=<sp/>160,<sp/>maxTones<sp/>=<sp/>1992,<sp/>maxClient<sp/>=<sp/>73,<sp/>maxRuType<sp/>=<sp/>7;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>functions<sp/>*/</highlight></codeline>
<codeline lineno="66" refid="transmission_8cc_1ab7342ed5f6ffba181326149f8dd8bcfa" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1ab7342ed5f6ffba181326149f8dd8bcfa" kindref="member">getMacTransmissionTime</ref>(<ref refid="classpacket" kindref="compound">packet</ref><sp/>aPacket,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nbOfBytesMac,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ru)</highlight><highlight class="comment">//ru:<sp/>ressource<sp/>unit<sp/><sp/>(number<sp/>of<sp/>tones)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal">{</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(ru)<sp/></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>26:<sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*<sp/>(aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>+nbOfBytesMac)<sp/>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][0]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>52:<sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*<sp/>(aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>+nbOfBytesMac)<sp/>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][1]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>106:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*<sp/>(aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>+nbOfBytesMac)<sp/>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][2]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>242:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*<sp/>(aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>+nbOfBytesMac)<sp/>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][3]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>484:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*<sp/>(aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>+nbOfBytesMac)<sp/>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][4]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>996:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*<sp/>(aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>+nbOfBytesMac)<sp/>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][5]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>1992:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*<sp/>(aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>+nbOfBytesMac)<sp/>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][6]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cerr<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Error<sp/>getTransmissionTimePayload:<sp/>Number<sp/>of<sp/>tones<sp/>is<sp/>not<sp/>supported<sp/>(ru=&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ru<sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(1);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="81"><highlight class="normal">};</highlight></codeline>
<codeline lineno="89" refid="transmission_8cc_1a54eb34961baa3decb1e480234eee0a45" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1a54eb34961baa3decb1e480234eee0a45" kindref="member">newDest</ref>(<ref refid="classdestination" kindref="compound">destination</ref><sp/>aDest,<sp/>std::list&lt;destination&gt;<sp/>destList)<sp/></highlight></codeline>
<codeline lineno="90"><highlight class="normal">{</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it=destList.begin();it!=destList.end();<sp/>it++)</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>it-&gt;m_no<sp/>==<sp/>aDest.<ref refid="classdestination_1a423b9008ebc7659776c323fd4c8250cc" kindref="member">m_no</ref><sp/>)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(i);<sp/></highlight><highlight class="comment">//<sp/>if<sp/>aDest<sp/>match<sp/>any<sp/>destination<sp/>same<sp/>with<sp/>destList,<sp/>return<sp/>its<sp/>index</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>i<sp/>++;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(-1);</highlight></codeline>
<codeline lineno="99"><highlight class="normal">}<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>if<sp/>the<sp/>new<sp/>destination<sp/>is<sp/>founded<sp/>in<sp/>the<sp/>destList,<sp/>if<sp/>occur<sp/>=&gt;<sp/>return<sp/>-1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="107" refid="transmission_8cc_1acac6dc1d91e8b14df7007ddb4e25c58d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1acac6dc1d91e8b14df7007ddb4e25c58d" kindref="member">alpha_i</ref>(<ref refid="classpacket" kindref="compound">packet</ref><sp/>pkt)</highlight></codeline>
<codeline lineno="108"><highlight class="normal">{</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(pkt.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>*8.0)/(pkt.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1aa6b9d16cc17841618bdb99e056da91f7" kindref="member">m_phyRate</ref>*1000000);</highlight></codeline>
<codeline lineno="110"><highlight class="normal">};<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>time</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="119" refid="transmission_8cc_1ac6d611f7de49524c593519d0425c5a09" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1ac6d611f7de49524c593519d0425c5a09" kindref="member">getTransmissionTimeOfdmaFrame</ref>(std::list&lt;packet&gt;<sp/>packetsList,<sp/>std::vector&lt;int&gt;<sp/>ruList)</highlight></codeline>
<codeline lineno="120"><highlight class="normal">{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>AIFS=0.000043;<sp/></highlight><highlight class="comment">//musec</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>SIFS=0.000016;<sp/></highlight><highlight class="comment">//musec</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>backoff=0.0000675;<sp/></highlight><highlight class="comment">//<sp/>Slot_time=9musec<sp/>*<sp/>7.5<sp/>(backoff<sp/>in<sp/>[0-15])</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>phyHeader=0.000044;<sp/></highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Algorithm:<sp/>we<sp/>have<sp/>a<sp/>single<sp/>function<sp/>for<sp/>OFDMA,<sp/>Aggreg<sp/>and<sp/>OFDMA+Aggreg</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//So,<sp/>we<sp/>may<sp/>have<sp/>different<sp/>packets<sp/>for<sp/>the<sp/>same<sp/>destination.<sp/>In<sp/>this<sp/>case<sp/>they<sp/>are<sp/>sent<sp/>in<sp/>one<sp/>MPDU<sp/>(MAC<sp/>Protocol<sp/>Data<sp/>Unit)<sp/>one<sp/>after<sp/>the<sp/>other.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/>std::list&lt;double&gt;<sp/>macTime;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/>std::vector&lt;int&gt;::iterator<sp/>ruListIt;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>iterator<sp/>point<sp/>to<sp/>each<sp/>packet<sp/>object,<sp/>represent<sp/>the<sp/>type<sp/>of<sp/>resource<sp/>unit</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/>ruListIt<sp/>=<sp/>ruList.begin();<sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it=packetsList.begin();<sp/>it!=packetsList.end();<sp/>it++)<sp/></highlight><highlight class="comment">//<sp/>each<sp/>iterator<sp/>is<sp/>the<sp/>packet<sp/>object</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/>cout&lt;&lt;&quot;Test<sp/>ruList<sp/>value<sp/>=<sp/>&quot;&lt;&lt;*ruListIt&lt;&lt;&quot;,<sp/>tx<sp/>time<sp/>=<sp/>&quot;&lt;&lt;getMacTransmissionTime(*it,30+32,RuType[*ruListIt])&lt;&lt;endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>macTime.push_back(<ref refid="transmission_8cc_1ab7342ed5f6ffba181326149f8dd8bcfa" kindref="member">getMacTransmissionTime</ref>(*it,30+32,<ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>[*ruListIt]));<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>value<sp/>of<sp/>each<sp/>object</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>ruListIt++;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>ruList<sp/>is<sp/>a<sp/>iterator,<sp/>so<sp/>*ruListIt<sp/>reference<sp/>the<sp/>index<sp/>in<sp/>RuList</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>transmissionTime;</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//Two<sp/>phyHeader:<sp/>one<sp/>for<sp/>the<sp/>frame<sp/>and<sp/>one<sp/>for<sp/>the<sp/>BACK</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/>transmissionTime=AIFS+backoff+2*phyHeader+SIFS;</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/>transmissionTime+=*max_element(macTime.begin(),<sp/>macTime.end());<sp/></highlight><highlight class="comment">//return<sp/>the<sp/>iterator<sp/>on<sp/>the<sp/>max<sp/>elt<sp/><sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>reference<sp/>to<sp/>the<sp/>max<sp/>element<sp/>of<sp/>iterator<sp/>=&gt;<sp/>time<sp/>need<sp/>to<sp/>finish<sp/>all<sp/>packet<sp/>is<sp/>the<sp/>longest<sp/>time<sp/>transmit<sp/>a<sp/>packet<sp/>(cause<sp/>the<sp/>parallel)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>transmissionTime;<sp/></highlight></codeline>
<codeline lineno="146"><highlight class="normal">}</highlight></codeline>
<codeline lineno="147"><highlight class="normal"></highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149" refid="transmission_8cc_1aaa49bc1ad53343dcbe56639d207e83a6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*<sp/><ref refid="transmission_8cc_1aaa49bc1ad53343dcbe56639d207e83a6" kindref="member">ruAllocation</ref>(std::list&lt;packet&gt;<sp/>pkt_set)<sp/></highlight></codeline>
<codeline lineno="150"><highlight class="normal">{</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*ru<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">[pkt_set.size()];<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>return<sp/>the<sp/>new<sp/>array<sp/>pointer<sp/>with<sp/>number<sp/>of<sp/>packet<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>sum<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(std::list&lt;packet&gt;::iterator<sp/>it<sp/>=<sp/>pkt_set.begin();<sp/>it!=pkt_set.end();<sp/>it++)<sp/>sum<sp/>+=<sp/><ref refid="transmission_8cc_1acac6dc1d91e8b14df7007ddb4e25c58d" kindref="member">alpha_i</ref>(*it);<sp/></highlight><highlight class="comment">//<sp/>calculate<sp/>total<sp/>time<sp/>for<sp/>entire<sp/>packet<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>global<sp/>iterator</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tonesfloat[pkt_set.size()];<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>new<sp/>array<sp/>has<sp/>the<sp/>size<sp/>of<sp/>packet<sp/>element</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(std::list&lt;packet&gt;::iterator<sp/>it<sp/>=<sp/>pkt_set.begin();<sp/>it!=pkt_set.end();<sp/>it++)</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>we<sp/>only<sp/>use<sp/>the<sp/>case<sp/>of<sp/>20Hz,<sp/>=&gt;<sp/>maxTones<sp/>is<sp/>242</highlight></codeline>
<codeline lineno="163"><highlight class="comment"><sp/><sp/><sp/><sp/>=<sp/><sp/>242<sp/>*<sp/>time<sp/>of<sp/>transmission<sp/>each<sp/>packet<sp/>/<sp/>total<sp/>transmission<sp/>time<sp/>of<sp/>all<sp/>packet</highlight></codeline>
<codeline lineno="164"><highlight class="comment"><sp/><sp/><sp/><sp/>=&gt;<sp/>Then<sp/>we<sp/>got<sp/>a<sp/>float<sp/>corressponding<sp/>to<sp/>each<sp/>packet,<sp/>that<sp/>a<sp/>number<sp/>have<sp/>direct<sp/>proportion<sp/>with<sp/>the<sp/>transmission<sp/>time<sp/>of<sp/>packet<sp/>(or<sp/>size<sp/>of<sp/>packet)</highlight></codeline>
<codeline lineno="165"><highlight class="comment"><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tonesfloat[i]<sp/>=<sp/><ref refid="transmission_8cc_1a61b1269a1e66e3f41842d7fe975127e3" kindref="member">maxTones</ref><sp/>*<sp/><ref refid="transmission_8cc_1acac6dc1d91e8b14df7007ddb4e25c58d" kindref="member">alpha_i</ref>(*it)<sp/>/<sp/>sum;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>each<sp/>&quot;i&quot;<sp/>corresponding<sp/>to<sp/>appropriate<sp/>packet<sp/>in<sp/>packetList</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>distance[2]<sp/>=<sp/>{<ref refid="transmission_8cc_1a61b1269a1e66e3f41842d7fe975127e3" kindref="member">maxTones</ref>,0};<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>distance[0]<sp/>=<sp/>242,<sp/>distance[1]<sp/>=<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>tmp<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j=0;<sp/>j&lt;<sp/></highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>[0]);<sp/>j++)<sp/><sp/></highlight><highlight class="comment">//<sp/>iterate<sp/>from<sp/>0<sp/>to<sp/>3</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="173"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>tonesfloat[]<sp/>=<sp/>[0;242]</highlight></codeline>
<codeline lineno="174"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>tmp<sp/>=<sp/>[0;242]</highlight></codeline>
<codeline lineno="175"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>j<sp/>=<sp/>[0;3]</highlight></codeline>
<codeline lineno="176"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tmp<sp/>=<sp/>abs(tonesfloat[i]<sp/>-<sp/><ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>[j]);<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Getting<sp/>value<sp/>is<sp/>the<sp/>gap<sp/>of<sp/>packet&apos;s<sp/>tonefloat<sp/>with<sp/>each<sp/>tone<sp/>(26,<sp/>52,<sp/>106,<sp/>242)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="180"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>242<sp/>&gt;<sp/>tmp<sp/>=&gt;<sp/>distance<sp/>=<sp/>tmp;<sp/></highlight></codeline>
<codeline lineno="181"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>distance[1]<sp/>has<sp/>range<sp/>[0;3]<sp/>,<sp/>represent<sp/>26<sp/>52<sp/>104<sp/>242</highlight></codeline>
<codeline lineno="182"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>the<sp/>previous<sp/>iterate<sp/>value<sp/>of<sp/>&quot;tmp&quot;<sp/>is<sp/>greater<sp/>than<sp/>the<sp/>current<sp/>&quot;tmp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>=&gt;<sp/>take<sp/>the<sp/>value<sp/>of<sp/>current<sp/>tmp<sp/>=&gt;<sp/>finding<sp/>the<sp/>closet<sp/>gap</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>=&gt;<sp/>Then<sp/>after<sp/>the<sp/>loop,<sp/>we<sp/>got<sp/>the<sp/>array<sp/>distance<sp/>is<sp/>the<sp/>combined<sp/>of<sp/>the<sp/>closet<sp/>RuTone<sp/>and<sp/>its<sp/>index<sp/>.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(distance[0]<sp/>&gt;<sp/>tmp)<sp/>{<sp/>distance[0]<sp/>=<sp/>tmp;<sp/>distance[1]<sp/>=<sp/>j;<sp/>}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ru[i]<sp/>=<sp/>distance[1];<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>current<sp/>closet<sp/>index<sp/>of<sp/>tones</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cout&lt;&lt;tonesfloat[i]&lt;&lt;</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;ru[i]&lt;&lt;</highlight><highlight class="stringliteral">&quot;<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>[ru[i]]&lt;&lt;endl;<sp/></highlight><highlight class="comment">//<sp/>print<sp/>the<sp/>tonesfloat<sp/>and<sp/>appropriate<sp/>RuTones<sp/>index</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i++;<sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>it<sp/>for<sp/>every<sp/>packet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>totalTones<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>i<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j=0;<sp/>j<sp/>&lt;<sp/>pkt_set.size();<sp/>j++)<sp/>totalTones<sp/>+=<sp/><ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>[ru[j]];<sp/></highlight><highlight class="comment">//<sp/>counting<sp/>the<sp/>total<sp/>of<sp/>all<sp/>appropriate<sp/>tones<sp/>for<sp/>all<sp/>packet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>cout&lt;&lt;</highlight><highlight class="stringliteral">&quot;[INFO]<sp/>RU<sp/>Allocation<sp/>component,<sp/>after<sp/>computing<sp/>the<sp/>floattones,<sp/>total<sp/>tones<sp/>=<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;totalTones&lt;&lt;</highlight><highlight class="stringliteral">&quot;<sp/>number<sp/>of<sp/>ru<sp/>size<sp/>=<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ru)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(ru[0])&lt;&lt;endl;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>while<sp/>the<sp/>total<sp/>tones<sp/>is<sp/>greater<sp/>than<sp/>242,<sp/>then<sp/>we<sp/>need<sp/>to<sp/>reduce<sp/>tones<sp/>by<sp/>minus<sp/>1<sp/>from<sp/>all<sp/>RuTones<sp/>index<sp/>(exclusive<sp/>the<sp/>first<sp/>index<sp/>0)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(totalTones<sp/>&gt;<sp/><ref refid="transmission_8cc_1a61b1269a1e66e3f41842d7fe975127e3" kindref="member">maxTones</ref>)</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(ru[i]&gt;0)<sp/>ru[i]--;<sp/></highlight><highlight class="comment">//<sp/>if<sp/>index<sp/>of<sp/>tones<sp/>&gt;<sp/>0,<sp/>then<sp/>reduce<sp/>1<sp/>from<sp/>this<sp/>index</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>example<sp/>[0,<sp/>2,<sp/>1,<sp/>3,<sp/>..]<sp/>=&gt;<sp/>[0,<sp/>1,<sp/>0,<sp/>2,..]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>totalTones<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>k=0;<sp/>k<sp/>&lt;<sp/>pkt_set.size();<sp/>k++)<sp/>totalTones<sp/>+=<sp/><ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>[ru[k]];</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i++;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cout&lt;&lt;</highlight><highlight class="stringliteral">&quot;[INFO]<sp/>RU<sp/>Allocation<sp/>component,<sp/>total<sp/>tones<sp/>too<sp/>large,<sp/>reduce<sp/>tones,<sp/>total<sp/>tones<sp/>=<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;totalTones&lt;&lt;endl;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ru;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>=&gt;<sp/>return<sp/>the<sp/>array<sp/>store<sp/>most<sp/>appropriate<sp/>index<sp/>of<sp/>RuTones<sp/>for<sp/>packets</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal">};</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="220" refid="transmission_8cc_1ac2e8aca1d9459efd72866fb4009aeaf6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1ac2e8aca1d9459efd72866fb4009aeaf6" kindref="member">ruBruteForce</ref>(std::vector&lt;int&gt;<sp/>ru,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>noSta,<sp/>std::list&lt;std::vector&lt;int&gt;&gt;<sp/>&amp;ruList)</highlight></codeline>
<codeline lineno="221"><highlight class="normal">{</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i=0;<sp/>i&lt;</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>)/</highlight><highlight class="keyword">sizeof</highlight><highlight class="normal">(<ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>[0]);<sp/>i++)<sp/></highlight><highlight class="comment">//<sp/>i:<sp/>[0;3]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;int&gt;<sp/>str;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>str<sp/>=<sp/>ru;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>str.push_back(i);<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(noSta<sp/>&gt;0)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Number<sp/>of<sp/>packet<sp/>-<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="transmission_8cc_1ac2e8aca1d9459efd72866fb4009aeaf6" kindref="member">ruBruteForce</ref>(str,<sp/>noSta-1,<sp/>ruList);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ruList.push_back(str);</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="234"><highlight class="normal">};</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight><highlight class="comment">//<sp/>return<sp/>a<sp/>vector<sp/>combines<sp/>of<sp/>RuTypes<sp/>that<sp/>optimal<sp/>for<sp/>packetList</highlight></codeline>
<codeline lineno="243" refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" refkind="member"><highlight class="normal">std::vector&lt;int&gt;<sp/><ref refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" kindref="member">ruAllocationOptimal</ref>(std::list&lt;packet&gt;<sp/>packetsList)</highlight></codeline>
<codeline lineno="244"><highlight class="normal">{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/>std::vector&lt;double&gt;<sp/>ofValueList;<sp/></highlight><highlight class="comment">//a<sp/>vector<sp/>of<sp/>objectiveFunction<sp/>computed<sp/>values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/>std::vector&lt;int&gt;::iterator<sp/>ofValueIt;<sp/></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/>std::vector&lt;int&gt;<sp/>optimalValue;<sp/></highlight><highlight class="comment">//return<sp/>ru<sp/>optimal<sp/>vector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>noSta<sp/>=<sp/>packetsList.size()<sp/>-<sp/>1;<sp/></highlight><highlight class="comment">//depth<sp/>of<sp/>BruteForce<sp/>recursive<sp/>layers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/>std::vector&lt;int&gt;<sp/>ru;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/>std::vector&lt;int&gt;::iterator<sp/>ruIt;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/>std::list&lt;std::vector&lt;int&gt;&gt;<sp/>ruList;</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/>std::list&lt;std::vector&lt;int&gt;&gt;::iterator<sp/>ruListIt;</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><ref refid="transmission_8cc_1ac2e8aca1d9459efd72866fb4009aeaf6" kindref="member">ruBruteForce</ref>(ru,<sp/>noSta,<sp/>ruList);<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>all<sp/>possible<sp/>RU<sp/>combination<sp/>with<sp/>correspond<sp/>noSta<sp/>in<sp/>ruList</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(ruListIt=ruList.begin();<sp/>ruListIt!=ruList.end();<sp/>ruListIt++)<sp/><sp/></highlight><highlight class="comment">//<sp/>iterate<sp/>each<sp/>vector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>totalTones<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(ruIt=ruListIt-&gt;begin();<sp/>ruIt!=ruListIt-&gt;end();<sp/>ruIt++)<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>iterate<sp/>each<sp/>element<sp/>in<sp/>vector</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>totalTones<sp/>+=<sp/><ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>[*ruIt];<sp/></highlight><highlight class="comment">//compute<sp/>total<sp/>tones<sp/>given<sp/>by<sp/>this<sp/>combination</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(totalTones<sp/>&gt;<sp/><ref refid="transmission_8cc_1a61b1269a1e66e3f41842d7fe975127e3" kindref="member">maxTones</ref>)<sp/></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ofValueList.push_back(0.0);<sp/><sp/></highlight><highlight class="comment">//excess<sp/>max<sp/>no<sp/>of<sp/>tones,<sp/>simply<sp/>put<sp/>0<sp/>to<sp/>the<sp/>ofValueList</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ofValueList.push_back(<ref refid="transmission_8cc_1a147da8463af38f23f7cc084be4920c1e" kindref="member">objectiveFunction</ref>(packetsList,<sp/>*ruListIt));<sp/><sp/></highlight><highlight class="comment">//otherwise,<sp/>compute<sp/>objectiveFunction<sp/>value<sp/>for<sp/>each<sp/>vector,<sp/>then<sp/>add<sp/>to<sp/>ofValueList</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight><highlight class="comment">//<sp/>After<sp/>above<sp/>code,<sp/>we<sp/>have<sp/>a<sp/>vector<sp/>contain<sp/>all<sp/>objectiveFunction<sp/>value<sp/>for<sp/>each<sp/>vector<sp/>combination</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/>ruListIt<sp/>=<sp/>ruList.begin();</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>find<sp/>the<sp/>maximum<sp/>iterator<sp/>element<sp/>in<sp/>ofValueList,<sp/>then<sp/>minus<sp/>the<sp/>begin<sp/>iterator<sp/>to<sp/>find<sp/>the<sp/>number<sp/>of<sp/>positions</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;advance&quot;<sp/>used<sp/>to<sp/>move<sp/>given<sp/>iterator<sp/>with<sp/>specific<sp/>number<sp/>of<sp/>position<sp/>to<sp/>move</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>shifts<sp/>ruListIt<sp/>to<sp/>point<sp/>to<sp/>the<sp/>RU<sp/>allocation<sp/>combination<sp/>in<sp/>ruList<sp/>that<sp/>corresponds<sp/>to<sp/>the<sp/>maximum<sp/>value<sp/>found<sp/>in<sp/>ofValueList.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/>std::advance(ruListIt,<sp/>max_element(ofValueList.begin(),<sp/>ofValueList.end())<sp/>-<sp/>ofValueList.begin());<sp/></highlight><highlight class="comment">//find<sp/>the<sp/>index<sp/>of<sp/>best<sp/>combination<sp/>in<sp/>ofValueList,<sp/>then<sp/>shift<sp/>ruListIt<sp/>according<sp/>to<sp/>that<sp/>index</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/>optimalValue<sp/>=<sp/>*ruListIt;<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>assign<sp/>value<sp/>of<sp/>optimalValue<sp/>is<sp/>the<sp/>value<sp/>ruListIt<sp/>pointing<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>optimalValue;<sp/><sp/></highlight><highlight class="comment">//<sp/>vector<sp/>for<sp/>optimal<sp/>RuTones<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal">};</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"></highlight><highlight class="comment">//<sp/>calculate<sp/>objective<sp/>Function<sp/>for<sp/>given<sp/>packet<sp/>List<sp/>and<sp/>corresponding<sp/>tones</highlight></codeline>
<codeline lineno="293" refid="transmission_8cc_1a147da8463af38f23f7cc084be4920c1e" refkind="member"><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1a147da8463af38f23f7cc084be4920c1e" kindref="member">objectiveFunction</ref>(std::list&lt;packet&gt;<sp/>packetsList,<sp/>std::vector&lt;int&gt;<sp/>ruList)</highlight></codeline>
<codeline lineno="294"><highlight class="normal">{</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/>std::list&lt;packet&gt;::iterator<sp/>it;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>size<sp/>=<sp/>0.0;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(it<sp/>=<sp/>packetsList.begin();<sp/>it!=<sp/>packetsList.end();<sp/>it++)</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/>size<sp/>+=<sp/>it-&gt;m_size;<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>total<sp/>size<sp/>of<sp/>packet<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"></highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>size/<ref refid="transmission_8cc_1ac6d611f7de49524c593519d0425c5a09" kindref="member">getTransmissionTimeOfdmaFrame</ref>(packetsList,<sp/>ruList);</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>each<sp/>packet<sp/>list<sp/>have<sp/>the<sp/>number<sp/>that<sp/>represent<sp/>rate<sp/>in<sp/>OFDMA<sp/>Frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal">};</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="315" refid="transmission_8cc_1ac15752338ea1254dff25c7cb14140a08" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1ac15752338ea1254dff25c7cb14140a08" kindref="member">getTransmissionTimePayload</ref>(<ref refid="classpacket" kindref="compound">packet</ref><sp/>aPacket,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ru)</highlight><highlight class="comment">//ru:<sp/>ressource<sp/>unit<sp/>(number<sp/>of<sp/>tones)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal">{</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(ru)<sp/></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>26:<sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][0]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>52:<sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][1]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>106:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][2]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>242:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][3]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>484:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][4]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>996:<sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][5]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>1992:<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(8*aPacket.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>)<sp/>/<sp/>(<ref refid="transmission_8cc_1aac31c48a4c2a61ab0477cab11fbb766b" kindref="member">phyRate</ref>[aPacket.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a4548881e744673365ee3d134ef54ec87" kindref="member">m_mcs</ref>][6]*1000000);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cerr<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Error<sp/>getTransmissionTimePayload:<sp/>Number<sp/>of<sp/>tones<sp/>is<sp/>not<sp/>supported<sp/>(ru=&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>ru<sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(1);</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="330"><highlight class="normal">};</highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="339" refid="transmission_8cc_1ab2338ac05d15d17fdcd3b6401a6e4508" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1ab2338ac05d15d17fdcd3b6401a6e4508" kindref="member">fifo</ref>(list&lt;packet&gt;<sp/>&amp;<ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="main_8cc_1a272038ad264893a568c808f13d818b17" kindref="member">currentTime</ref>)</highlight></codeline>
<codeline lineno="340"><highlight class="normal">{</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>transmissionTime;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>AIFS=0.000043;<sp/></highlight><highlight class="comment">//musec</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>SIFS=0.000016;<sp/></highlight><highlight class="comment">//musec</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>backoff=0.0000675;<sp/></highlight><highlight class="comment">//<sp/>Slot_time=9musec<sp/>*<sp/>7.5<sp/>(backoff<sp/>in<sp/>[0-15])</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>phyHeader=0.000044;<sp/></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//std::list&lt;packet&gt;::iterator<sp/>it;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//cout&lt;&lt;&quot;[INFO]:<sp/>FIFO<sp/>component,<sp/>before<sp/>pop<sp/>out<sp/>packet,<sp/>buffer<sp/>size<sp/>=<sp/>&quot;&lt;&lt;buffer.size()&lt;&lt;endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><ref refid="classpacket" kindref="compound">packet</ref><sp/>pckt<sp/>=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.front();</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.pop_front();</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//cout&lt;&lt;&quot;[INFO]:<sp/>FIFO<sp/>component,<sp/>after<sp/>pop<sp/>out<sp/>packet,<sp/>buffer<sp/>size<sp/>=<sp/>&quot;&lt;&lt;buffer.size()&lt;&lt;endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//cout&lt;&lt;&quot;[INFO]:<sp/>FIFO<sp/>component,<sp/>destination<sp/>no<sp/><sp/>=<sp/>&quot;&lt;&lt;pckt.m_destination.m_no&lt;&lt;endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//cout&lt;&lt;&quot;[INFO]:<sp/>FIFO<sp/>component,<sp/>packet<sp/>size<sp/>=<sp/>&quot;&lt;&lt;pckt.m_size&lt;&lt;endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/>cout&lt;&lt;</highlight><highlight class="stringliteral">&quot;[INFO]:<sp/>FIFO<sp/>component,<sp/>packet<sp/>sent<sp/>with<sp/>destination<sp/>=<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;pckt.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a423b9008ebc7659776c323fd4c8250cc" kindref="member">m_no</ref></highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;</highlight><highlight class="stringliteral">&quot;,<sp/>phyRate<sp/>=<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;pckt.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1aa6b9d16cc17841618bdb99e056da91f7" kindref="member">m_phyRate</ref></highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;</highlight><highlight class="stringliteral">&quot;,<sp/>packetSize<sp/>=<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;pckt.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;</highlight><highlight class="stringliteral">&quot;,<sp/>arrivalTime<sp/>=<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;pckt.<ref refid="classpacket_1a28d79baa3b5bfb62fe40c5ac1c0af1f6" kindref="member">m_arrival</ref></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;</highlight><highlight class="stringliteral">&quot;,<sp/>transmissionTime<sp/>=<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="main_8cc_1a272038ad264893a568c808f13d818b17" kindref="member">currentTime</ref><sp/></highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;endl;</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/>transmissionTime<sp/>=<sp/>AIFS+backoff+2*phyHeader+SIFS;</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/>transmissionTime+=<sp/>(8*pckt.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>)/(pckt.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1aa6b9d16cc17841618bdb99e056da91f7" kindref="member">m_phyRate</ref>*1000000);</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>transmissionTime;</highlight></codeline>
<codeline lineno="362"><highlight class="normal">};</highlight></codeline>
<codeline lineno="363"><highlight class="normal"></highlight></codeline>
<codeline lineno="379" refid="transmission_8cc_1a22f983f29243c20d665bf025aada871e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1a22f983f29243c20d665bf025aada871e" kindref="member">fifoAggregation</ref>(std::list&lt;packet&gt;<sp/>&amp;<ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="main_8cc_1a272038ad264893a568c808f13d818b17" kindref="member">currentTime</ref>)<sp/></highlight></codeline>
<codeline lineno="380"><highlight class="normal">{</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>txOP<sp/>=<sp/>10.5;<sp/></highlight><highlight class="comment">//TxOP<sp/>in<sp/>miliseconds<sp/><sp/>Transmission<sp/>Opportunity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>aggregation_frame_size<sp/>=<sp/>11454;<sp/><sp/></highlight><highlight class="comment">//Max<sp/>aggregation<sp/>frame<sp/>size<sp/>in<sp/>Bytes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>max_frame_size,<sp/>current_frame_size=0.0;</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>frame_header_size<sp/>=<sp/>14.0;</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>no_aggregated_pkt<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>aggregation<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/>std::cout&lt;&lt;</highlight><highlight class="stringliteral">&quot;[TRANSMISSION]<sp/>fifoAggregation<sp/>is<sp/>processing...&quot;</highlight><highlight class="normal">&lt;&lt;std::endl;</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/>cout&lt;&lt;</highlight><highlight class="stringliteral">&quot;[INFO]:<sp/>FIFO_Aggregation<sp/>component,<sp/>buffer<sp/>size<sp/>before<sp/>pop<sp/>out<sp/>the<sp/>first<sp/>packet<sp/>=<sp/>&quot;</highlight><highlight class="normal">&lt;&lt;<ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.size()&lt;&lt;endl;</highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>there<sp/>is<sp/>one,<sp/>verify<sp/>the<sp/>frame<sp/>size<sp/>then<sp/>aggregate<sp/>it<sp/>into<sp/>the<sp/>first<sp/>packet,<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>pop<sp/>out<sp/>the<sp/>aggregated<sp/>packet<sp/>out<sp/>of<sp/>the<sp/>buffer,<sp/>count<sp/>the<sp/>number<sp/>of<sp/>packet<sp/>to<sp/>be<sp/>aggregated,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>aggregation<sp/>happens<sp/>then<sp/>no<sp/>need<sp/>to<sp/>increase<sp/>iterator<sp/>since<sp/>after<sp/>erase()<sp/>the<sp/>iterator<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>automatically<sp/>point<sp/>to<sp/>the<sp/>next<sp/>item.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/>std::list&lt;packet&gt;::iterator<sp/>it;</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/>std::list&lt;packet&gt;::iterator<sp/>packetIt;</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/>std::vector&lt;int&gt;<sp/>destList;</highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>numDest<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>totalTime<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(it<sp/>=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.begin();<sp/>it<sp/>!=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.end();<sp/>++it)<sp/>{</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/>destList.push_back(it-&gt;m_destination.m_no);<sp/><sp/></highlight><highlight class="comment">//<sp/>e.g.,<sp/>[1,1,1,1,5,5,5,8,8]</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="405"><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it<sp/>=<sp/>destList.begin();<sp/>it<sp/>!=<sp/>destList.end();<sp/>++it)<sp/>{</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isUnique<sp/>=<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>checkIt<sp/>=<sp/>destList.begin();<sp/>checkIt<sp/>!=<sp/>it;<sp/>++checkIt)<sp/>{</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*checkIt<sp/>==<sp/>*it)<sp/>{</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>isUnique<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(isUnique)<sp/>{</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numDest++;</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/>std::cout<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Number<sp/>of<sp/>unique<sp/>destinations:<sp/>&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>numDest<sp/>&lt;&lt;<sp/>std::endl;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(numDest<sp/>&gt;<sp/>0)</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classpacket" kindref="compound">packet</ref><sp/>pckt<sp/>=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.front();<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>first<sp/>packet<sp/>of<sp/>packet<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.pop_front();<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>remove</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>cout&lt;&lt;</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;[Begin<sp/>of<sp/>FIFO<sp/>Aggregation<sp/>to<sp/>destination<sp/>{}]&quot;</highlight><highlight class="normal">,pckt.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a423b9008ebc7659776c323fd4c8250cc" kindref="member">m_no</ref>);</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/>cout&lt;&lt;</highlight><highlight class="stringliteral">&quot;\n&quot;</highlight><highlight class="normal">&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;FIFO_Aggregation<sp/>component,<sp/>buffer<sp/>size<sp/>after<sp/>pop<sp/>out<sp/>the<sp/>first<sp/>packet<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.size());</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/>spdlog::debug(</highlight><highlight class="stringliteral">&quot;Max<sp/>size<sp/>for<sp/>a<sp/>transmission<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,pckt.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1aa6b9d16cc17841618bdb99e056da91f7" kindref="member">m_phyRate</ref>*txOP*1000/8);</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>max_frame_size<sp/>=<sp/>min(aggregation_frame_size,<sp/>pckt.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1aa6b9d16cc17841618bdb99e056da91f7" kindref="member">m_phyRate</ref>*txOP*1000/8);</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/>current_frame_size<sp/>=<sp/>pckt.<ref refid="classpacket_1aabf7e3d557441592087d82f797b6e809" kindref="member">m_size</ref>;</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/>spdlog::debug(</highlight><highlight class="stringliteral">&quot;Max<sp/>frame<sp/>size<sp/>for<sp/>this<sp/>jumbo<sp/>frame<sp/>=<sp/>{},<sp/>Current<sp/>frame<sp/>size<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,max_frame_size,current_frame_size);</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/>packetIt<sp/>=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.begin();<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>second<sp/>packet<sp/>of<sp/>given<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>loop<sp/>=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.size();<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>number<sp/>of<sp/>packet<sp/>=<sp/>8</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(loop<sp/>&gt;<sp/>0)<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>query<sp/>packet<sp/>list<sp/>till<sp/>all<sp/>packet<sp/>is<sp/>processed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>spdlog::debug(</highlight><highlight class="stringliteral">&quot;Processing<sp/>a<sp/>packet<sp/>with<sp/>destination<sp/>=<sp/>{},<sp/>buffer<sp/>size<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,packetIt-&gt;m_destination.m_no,<ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.size());</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>aggregation<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>the<sp/>current<sp/>packet<sp/>has<sp/>the<sp/>same<sp/>destination<sp/>with<sp/>the<sp/>first<sp/>packet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(packetIt-&gt;m_destination.m_no<sp/>==<sp/>pckt.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a423b9008ebc7659776c323fd4c8250cc" kindref="member">m_no</ref>)</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>the<sp/>frame<sp/>size<sp/>=<sp/><sp/>first<sp/>packet<sp/>+<sp/>same<sp/>destination<sp/>packet<sp/><sp/>&lt;=<sp/>max<sp/>frame<sp/>size</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(current_frame_size<sp/>+<sp/>packetIt-&gt;m_size<sp/>&lt;=<sp/>max_frame_size)</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>added<sp/>this<sp/>packet<sp/>to<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>current_frame_size<sp/>+=<sp/>packetIt-&gt;m_size;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>count<sp/>the<sp/>number<sp/>of<sp/>aggregated<sp/>packet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>no_aggregated_pkt<sp/>+=<sp/>1;<sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="453"><highlight class="normal"></highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>erase<sp/>the<sp/>packet<sp/>that<sp/>used<sp/>for<sp/>aggregation<sp/>FIFO<sp/>in<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packetIt<sp/>=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.erase(packetIt);<sp/></highlight><highlight class="comment">//<sp/>both<sp/>erase<sp/>and<sp/>update</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>set<sp/>bool<sp/>to<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aggregation<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="458"><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spdlog::info(</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;[AGGREGATED]<sp/>Aggregated<sp/>a<sp/>packet,<sp/>current<sp/>frame<sp/>size<sp/>=<sp/>{},<sp/>number<sp/>of<sp/>aggregated<sp/>packets<sp/>=<sp/>{},<sp/>now<sp/>buffer<sp/>size<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>current_frame_size,<sp/></highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>no_aggregated_pkt,<sp/></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.size()</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="465"><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"></highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>not<sp/>the<sp/>same<sp/>destination</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(aggregation<sp/>==<sp/>0)<sp/></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;[NOT<sp/>AGGREGATED]:<sp/>Aggregation<sp/>not<sp/>happen,<sp/>buffer<sp/>size<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.size());</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>do<sp/>with<sp/>the<sp/>next<sp/>packet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packetIt++;</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>-<sp/>1<sp/>packet,<sp/>restart<sp/>the<sp/>loop</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>loop--;</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;Jumbo<sp/>frame<sp/>size<sp/>of<sp/>packet<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,<sp/>current_frame_size);</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>transmisstion_time=(8*current_frame_size+8*frame_header_size)/(pckt.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1aa6b9d16cc17841618bdb99e056da91f7" kindref="member">m_phyRate</ref>*1000000);</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/>totalTime+=transmisstion_time;</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;Time<sp/>for<sp/>transmisstion<sp/>jumbo<sp/>frame<sp/>to<sp/>destination<sp/>{}<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,pckt.<ref refid="classpacket_1ab6ac239ca93654d87058539f0c2aae80" kindref="member">m_destination</ref>.<ref refid="classdestination_1a423b9008ebc7659776c323fd4c8250cc" kindref="member">m_no</ref>,<sp/>transmisstion_time);</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/>numDest--;</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;Final<sp/>totalTime<sp/>for<sp/>transmit<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,<sp/>totalTime);</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">(totalTime);</highlight></codeline>
<codeline lineno="487"><highlight class="normal">};</highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight></codeline>
<codeline lineno="502" refid="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" kindref="member">fifoOFDMAOptimal</ref>(std::list&lt;packet&gt;<sp/>&amp;<ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="main_8cc_1a272038ad264893a568c808f13d818b17" kindref="member">currentTime</ref>)</highlight></codeline>
<codeline lineno="503"><highlight class="normal">{</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>txTime;</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/>std::vector&lt;double&gt;<sp/>ofValueList;</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/>std::list&lt;destination&gt;<sp/>destList;<sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>store<sp/>all<sp/>destination<sp/>of<sp/>packets</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/>std::list&lt;packet&gt;<sp/>tmpList;</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/>std::list&lt;packet&gt;::iterator<sp/>packetIt,bufferIt;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/>std::list&lt;std::list&lt;packet&gt;&gt;<sp/>newDestList;</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/>std::list&lt;std::list&lt;packet&gt;&gt;::iterator<sp/>newDestListIt;</highlight></codeline>
<codeline lineno="511"><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;fifoOFDMAOptimal<sp/>is<sp/>processing...&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;buffer<sp/>size<sp/>before<sp/>transmission<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.size());</highlight></codeline>
<codeline lineno="514"><highlight class="normal"></highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/>packetIt<sp/>=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.begin();<sp/><sp/></highlight><highlight class="comment">//<sp/>get<sp/>the<sp/>first<sp/>packet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>index<sp/>=<sp/>0;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>iterator<sp/>of<sp/>clients</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>1;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>index<sp/>of<sp/>fifoOFDMAOptimal<sp/>combination</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>((packetIt<sp/>!=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.end())<sp/>&amp;&amp;<sp/>(index<sp/>&lt;<sp/><ref refid="transmission_8cc_1a400de5a490a25cff56ef1bae861f2ea1" kindref="member">maxClient</ref>))</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>modify<sp/>destList<sp/>will<sp/>affect<sp/>all<sp/>this<sp/>function</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="transmission_8cc_1a54eb34961baa3decb1e480234eee0a45" kindref="member">newDest</ref>(packetIt-&gt;m_destination.m_no,<sp/>destList)<sp/>==<sp/>-1)<sp/></highlight><highlight class="comment">//found<sp/>packet<sp/>with<sp/>new<sp/>destination</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>tmpList.push_back(*packetIt);<sp/></highlight><highlight class="comment">//<sp/>added<sp/>the<sp/>packet<sp/>object<sp/>that<sp/>iterator<sp/>point<sp/>to<sp/>end<sp/>of<sp/>temporary<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="524"><highlight class="normal"></highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="526"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>ruAllocationOptimal<sp/>return<sp/>vector<sp/>for<sp/>optimal<sp/>combinations<sp/>of<sp/>Ru<sp/>Tones<sp/>for<sp/>all<sp/>packet<sp/>in<sp/>tmpList</highlight></codeline>
<codeline lineno="527"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>ofValueList<sp/>store<sp/>all<sp/>rate<sp/>of<sp/>optimal<sp/>combination<sp/>RuTones<sp/>for<sp/>packetList</highlight></codeline>
<codeline lineno="528"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>ofValueList.push_back(<ref refid="transmission_8cc_1a147da8463af38f23f7cc084be4920c1e" kindref="member">objectiveFunction</ref>(tmpList,<sp/><ref refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" kindref="member">ruAllocationOptimal</ref>(tmpList)));<sp/></highlight><highlight class="comment">//<sp/>This<sp/>also<sp/>calculate<sp/>the<sp/>oF<sp/>of<sp/>[[packet<sp/>1],<sp/>[packet1,<sp/>packet2],<sp/>...]<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="530"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>destList.push_back(packetIt-&gt;m_destination.m_no);<sp/></highlight><highlight class="comment">//<sp/>store<sp/>list<sp/>of<sp/>address<sp/>of<sp/>destination<sp/>of<sp/>iterated<sp/>packet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>newDestList.push_back(tmpList);<sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>LIST<sp/>of<sp/>LIST<sp/>packet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>example:<sp/>[[packet<sp/>1],<sp/>[packet1,<sp/>packet2],<sp/>...]<sp/><sp/>but<sp/>all<sp/>of<sp/>this<sp/>packet<sp/>has<sp/>new<sp/>destination</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>index++;</highlight></codeline>
<codeline lineno="534"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>packetIt++;</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>packetIt++;<sp/></highlight><highlight class="comment">//destination<sp/>already<sp/>in<sp/>the<sp/>list,<sp/>iterator<sp/>point<sp/>to<sp/>the<sp/>next<sp/>packet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="539"><highlight class="normal"></highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//update</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>for<sp/>(newDestListIt<sp/>=<sp/>newDestList.begin();<sp/>newDestListIt<sp/>!=<sp/>newDestList.end();<sp/>newDestListIt++<sp/>){</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;int&gt;<sp/>optimalRU<sp/>=<sp/>ruAllocationOptimal(*newDestListIt);</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>(auto<sp/>it<sp/>=<sp/>newDestListIt-&gt;begin();<sp/>it!=<sp/>newDestListIt-&gt;end();<sp/>it++){</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::cout&lt;&lt;<sp/>&quot;<sp/>phyRate<sp/>=<sp/>&quot;<sp/>&lt;&lt;<sp/>it-&gt;m_destination.m_phyRate</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/>&quot;<sp/>packetSize<sp/>=<sp/>&quot;<sp/>&lt;&lt;<sp/>it-&gt;m_size</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/>&quot;<sp/>arrivalTime<sp/>=<sp/>&quot;<sp/>&lt;&lt;<sp/>it-&gt;m_arrival</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;<sp/>&quot;<sp/>Transsmisstion<sp/>=<sp/>&quot;<sp/>&lt;&lt;<sp/>currentTime</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&lt;&lt;endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::cout&lt;&lt;<sp/>&quot;<sp/>Ru<sp/>optimal<sp/>combination<sp/>for<sp/>this<sp/>packetList<sp/>&quot;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>(int<sp/>j<sp/>=<sp/>0;<sp/>j<sp/>&lt;<sp/>optimalRU.size();<sp/>j++){</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::cout&lt;&lt;<sp/>RuType[optimalRU[j]]<sp/>&lt;&lt;<sp/>&quot;<sp/>&quot;;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::cout&lt;&lt;endl&lt;&lt;&quot;<sp/>Objective<sp/>Function<sp/>value<sp/>=<sp/>&quot;&lt;&lt;objectiveFunction(*newDestListIt,<sp/>ruAllocationOptimal(*newDestListIt))&lt;&lt;std::endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::cout&lt;&lt;<sp/>&quot;<sp/>End<sp/>of<sp/>combination<sp/>=<sp/>&quot;<sp/>&lt;&lt;<sp/>i<sp/>&lt;&lt;endl<sp/>&lt;&lt;<sp/>&quot;<sp/>&quot;<sp/>&lt;&lt;endl;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i++;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="558"><highlight class="normal"></highlight></codeline>
<codeline lineno="559"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(newDestListIt<sp/>=<sp/>newDestList.begin();<sp/>newDestListIt<sp/>!=<sp/>newDestList.end();<sp/>newDestListIt++)<sp/>{</highlight></codeline>
<codeline lineno="560"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;int&gt;<sp/>optimalRU<sp/>=<sp/><ref refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" kindref="member">ruAllocationOptimal</ref>(*newDestListIt);</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="562"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keyword">auto</highlight><highlight class="normal"><sp/>it<sp/>=<sp/>newDestListIt-&gt;begin();<sp/>it<sp/>!=<sp/>newDestListIt-&gt;end();<sp/>it++)<sp/>{</highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;Packet<sp/>info:<sp/>PhyRate<sp/>=<sp/>{},<sp/>packetSize<sp/>=<sp/>{},<sp/>arrivalTime<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>it-&gt;m_destination.m_phyRate,<sp/></highlight></codeline>
<codeline lineno="565"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>it-&gt;m_size,<sp/></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>it-&gt;m_arrival);</highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="569"><highlight class="normal"></highlight></codeline>
<codeline lineno="570"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Log<sp/>RU<sp/>optimal<sp/>combination<sp/>for<sp/>the<sp/>current<sp/>packet<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/>spdlog::debug(</highlight><highlight class="stringliteral">&quot;RU<sp/>optimal<sp/>combination<sp/>for<sp/>this<sp/>packet<sp/>list:<sp/>&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>j<sp/>=<sp/>0;<sp/>j<sp/>&lt;<sp/>optimalRU.size();<sp/>j++)<sp/>{</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spdlog::debug(</highlight><highlight class="stringliteral">&quot;{}&quot;</highlight><highlight class="normal">,<sp/><ref refid="transmission_8cc_1aba83986fa8a5140d20eca119f48c10df" kindref="member">RuType</ref>[optimalRU[j]]);</highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="575"><highlight class="normal"></highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Log<sp/>the<sp/>objective<sp/>function<sp/>value</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/>spdlog::debug(</highlight><highlight class="stringliteral">&quot;Objective<sp/>Function<sp/>value<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,<sp/><ref refid="transmission_8cc_1a147da8463af38f23f7cc084be4920c1e" kindref="member">objectiveFunction</ref>(*newDestListIt,<sp/><ref refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" kindref="member">ruAllocationOptimal</ref>(*newDestListIt)));</highlight></codeline>
<codeline lineno="578"><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>End<sp/>of<sp/>the<sp/>combination<sp/>logging</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;End<sp/>of<sp/>combination<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,<sp/>i);</highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/>i++;<sp/><sp/></highlight><highlight class="comment">//<sp/>Increment<sp/>index</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal">}</highlight></codeline>
<codeline lineno="584"><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"></highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//point<sp/>iterator<sp/>to<sp/>the<sp/>right<sp/>list<sp/>of<sp/>packet<sp/>in<sp/>the<sp/>new<sp/>destination<sp/>list,<sp/>then<sp/>pop<sp/>them<sp/>out<sp/>from<sp/>the<sp/>buffer</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/>newDestListIt<sp/>=<sp/>newDestList.begin();</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>newDestListIt<sp/>point<sp/>to<sp/>the<sp/>max<sp/>Objective<sp/>Function<sp/>of<sp/>packet&apos;s<sp/>set<sp/>have<sp/>new<sp/>destination</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/>std::advance(newDestListIt,<sp/>max_element(ofValueList.begin(),ofValueList.end())-ofValueList.begin());</highlight></codeline>
<codeline lineno="590"><highlight class="normal"><sp/><sp/>tmpList.clear();</highlight></codeline>
<codeline lineno="591"><highlight class="normal"></highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Now,<sp/>newDestListIt<sp/>is<sp/>pointed<sp/>to<sp/>the<sp/>OPTIMALEST<sp/>COMBINATION<sp/>PACKETS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="593"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Iterate<sp/>each<sp/>combination<sp/>of<sp/>packets<sp/>in<sp/>the<sp/>OPTIMAL</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(packetIt<sp/>=<sp/>newDestListIt-&gt;begin();<sp/>packetIt<sp/>!=<sp/>newDestListIt-&gt;end();<sp/>packetIt++)</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/>tmpList.push_back(*packetIt);<sp/></highlight><highlight class="comment">//<sp/>add<sp/>all<sp/>element<sp/>of<sp/>packet&apos;s<sp/>combination<sp/>to<sp/>the<sp/>tmpList</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(bufferIt<sp/>=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.begin();<sp/>bufferIt<sp/>!=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.end();<sp/>bufferIt++)<sp/></highlight><highlight class="comment">//<sp/>iterate<sp/>all<sp/>packet<sp/>in<sp/>initial<sp/>packet<sp/>List</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(*packetIt<sp/>==<sp/>*bufferIt)<sp/>{<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>if<sp/>the<sp/>packet<sp/>is<sp/>founded<sp/>in<sp/>initial<sp/>buffer,<sp/>clear<sp/>and<sp/>print<sp/>its<sp/>details<sp/>to<sp/>screen</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>bufferIt<sp/>=<sp/><ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>.erase(bufferIt);<sp/>bufferIt--;<sp/><sp/></highlight><highlight class="comment">//<sp/>remove<sp/>the<sp/>FIFO<sp/>OFDMA<sp/>packet</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spdlog::info(</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;fifoOFDMAOptimal<sp/>component,<sp/>packet<sp/>sent<sp/>with<sp/>destination<sp/>=<sp/>{},<sp/>phyRate<sp/>=<sp/>{},<sp/>packetSize<sp/>=<sp/>{},<sp/>arrivalTime<sp/>=<sp/>{},<sp/>transmissionTime<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,<sp/></highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packetIt-&gt;m_destination.m_no,<sp/></highlight></codeline>
<codeline lineno="604"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packetIt-&gt;m_destination.m_phyRate,<sp/></highlight></codeline>
<codeline lineno="605"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packetIt-&gt;m_size,<sp/></highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>packetIt-&gt;m_arrival,<sp/></highlight></codeline>
<codeline lineno="607"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="main_8cc_1a272038ad264893a568c808f13d818b17" kindref="member">currentTime</ref></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>);</highlight></codeline>
<codeline lineno="609"><highlight class="normal"></highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>calculate<sp/>time<sp/>for<sp/>this<sp/>combination</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/>txTime<sp/>=<sp/><ref refid="transmission_8cc_1ac6d611f7de49524c593519d0425c5a09" kindref="member">getTransmissionTimeOfdmaFrame</ref>(tmpList,<sp/><ref refid="transmission_8cc_1aee5e234bc1d3de3097033b1b12d5ee0c" kindref="member">ruAllocationOptimal</ref>(tmpList));</highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/>spdlog::info(</highlight><highlight class="stringliteral">&quot;Time<sp/>for<sp/>OFDMA<sp/>transmisson<sp/>=<sp/>{}&quot;</highlight><highlight class="normal">,<sp/>txTime);</highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>txTime;</highlight></codeline>
<codeline lineno="619"><highlight class="normal">};</highlight></codeline>
<codeline lineno="620"><highlight class="normal"></highlight></codeline>
<codeline lineno="621"><highlight class="normal"></highlight><highlight class="comment">//Return<sp/>the<sp/>transmission<sp/>time<sp/>(time<sp/>to<sp/>access<sp/>the<sp/>medium<sp/>+<sp/>payload<sp/>+<sp/>queue<sp/>+<sp/>SIFS<sp/>+<sp/>BACK)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="622" refid="transmission_8cc_1a95d672e86c3804fea8754cdb7377e49e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="transmission_8cc_1a95d672e86c3804fea8754cdb7377e49e" kindref="member">transmitNextPackets</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>discipline,<sp/>list&lt;packet&gt;<sp/>&amp;<ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="main_8cc_1a272038ad264893a568c808f13d818b17" kindref="member">currentTime</ref>)</highlight></codeline>
<codeline lineno="623"><highlight class="normal">{</highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>txTime=0.0;</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(discipline)</highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/>{</highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>0:<sp/>txTime<sp/>=<sp/><ref refid="transmission_8cc_1ab2338ac05d15d17fdcd3b6401a6e4508" kindref="member">fifo</ref>(<ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>,<sp/><ref refid="main_8cc_1a272038ad264893a568c808f13d818b17" kindref="member">currentTime</ref>);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>1:<sp/>txTime<sp/>=<sp/><ref refid="transmission_8cc_1a8d89a9539ccc0c3fb5a43f756c60e3d5" kindref="member">fifoOFDMAOptimal</ref>(<ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>,<sp/><ref refid="main_8cc_1a272038ad264893a568c808f13d818b17" kindref="member">currentTime</ref>);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/>2:<sp/>txTime<sp/>=<sp/><ref refid="transmission_8cc_1a22f983f29243c20d665bf025aada871e" kindref="member">fifoAggregation</ref>(<ref refid="main_8cc_1a54235a9d73d17314492fc0b6bbe12c10" kindref="member">buffer</ref>,<ref refid="main_8cc_1a272038ad264893a568c808f13d818b17" kindref="member">currentTime</ref>);<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:<sp/></highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cerr<sp/>&lt;&lt;<sp/></highlight><highlight class="stringliteral">&quot;Error<sp/>transmitNextPackets:<sp/>the<sp/>discipline<sp/>is<sp/>not<sp/>supported<sp/>(disc=&quot;</highlight><highlight class="normal"><sp/>&lt;&lt;<sp/>discipline<sp/>&lt;&lt;<sp/>endl;</highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(1);</highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>txTime;</highlight></codeline>
<codeline lineno="635"><highlight class="normal">};</highlight></codeline>
    </programlisting>
    <location file="transmission.cc"/>
  </compounddef>
</doxygen>
